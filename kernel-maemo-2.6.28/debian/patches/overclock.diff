--- kernel-maemo-2.6.28.orig/arch/arm/mach-omap2/omap3-opp.h
+++ kernel-maemo-2.6.28/arch/arm/mach-omap2/omap3-opp.h
@@ -4,6 +4,15 @@
 #include <mach/omap-pm.h>
 
 /* MPU speeds */
+#define S1200M  1200000000
+#define S1100M  1100000000
+#define S1000M  1000000000
+#define S950M   950000000
+#define S900M   900000000
+#define S850M   850000000
+#define S800M   800000000
+#define S750M   750000000
+#define S700M   700000000
 #define S600M   600000000
 #define S550M   550000000
 #define S500M   500000000
@@ -33,6 +42,16 @@
 	{S550M, VDD1_OPP4, 0x36},
 	/*OPP5*/
 	{S600M, VDD1_OPP5, 0x3C},
+	/*overclocking*/
+	{S700M, 6, 0x3C},
+	{S750M, 7, 0x3C},
+	{S800M, 8, 0x3C},
+	{S850M, 9, 0x3C},
+	{S900M, 10, 0x3C},
+	{S950M, 11, 0x3C},
+	{S1000M, 12, 0x3C},
+	{S1100M, 13, 0x3C},
+	{S1200M, 14, 0x3C},
 };
 
 static struct omap_opp omap3_l3_rate_table[] = {
@@ -57,6 +76,16 @@
 	{S400M, VDD1_OPP4, 0x36},
 	/*OPP5*/
 	{S430M, VDD1_OPP5, 0x3C},
+	/*overclocking*/
+	{S430M, 6, 0x3C},
+	{S430M, 7, 0x3C},
+	{S430M, 8, 0x3C},/*800MHz*/
+	{S500M, 9, 0x3C},
+	{S500M, 10, 0x3C},
+	{S500M, 11, 0x3C},
+	{S500M, 12, 0x3C},
+	{S500M, 13, 0x3C},
+	{S500M, 14, 0x3C},
 };
 
 #endif
--- kernel-maemo-2.6.28.orig/arch/arm/plat-omap/include/mach/omap34xx.h
+++ kernel-maemo-2.6.28/arch/arm/plat-omap/include/mach/omap34xx.h
@@ -114,7 +114,8 @@
 #define VDD2_OPP3	0x3
 
 #define MIN_VDD1_OPP	VDD1_OPP1
-#define MAX_VDD1_OPP	VDD1_OPP5
+/*#define MAX_VDD1_OPP	VDD1_OPP5*/
+#define MAX_VDD1_OPP	14
 #define MIN_VDD2_OPP	VDD2_OPP1
 #define MAX_VDD2_OPP	VDD2_OPP3
 
--- kernel-maemo-2.6.28.orig/drivers/cpufreq/cpufreq.c
+++ kernel-maemo-2.6.28/drivers/cpufreq/cpufreq.c
@@ -823,7 +823,8 @@
 		goto err_out;
 	}
 	policy->user_policy.min = policy->cpuinfo.min_freq;
-	policy->user_policy.max = policy->cpuinfo.max_freq;
+	/*policy->user_policy.max = policy->cpuinfo.max_freq;*/
+	policy->user_policy.max = 600000; /*N900 hack: set default max to 600MHz */
 
 	blocking_notifier_call_chain(&cpufreq_policy_notifier_list,
 				     CPUFREQ_START, policy);
--- kernel-maemo-2.6.28.orig/arch/arm/mach-omap2/smartreflex.c
+++ kernel-maemo-2.6.28/arch/arm/mach-omap2/smartreflex.c
@@ -513,7 +513,7 @@
 	sr->req_opp_no = target_opp_no;
 
 	if (sr->srid == SR1) {
-		switch (target_opp_no) {
+		switch (min(target_opp_no,5)) {
 		case 5:
 			nvalue_reciprocal = sr->opp5_nvalue;
 			break;
--- kernel-maemo-2.6.28.orig/arch/arm/plat-omap/cpu-omap.c
+++ kernel-maemo-2.6.28/arch/arm/plat-omap/cpu-omap.c
@@ -148,10 +148,12 @@
 							VERY_HI_RATE) / 1000;
 	}
 
-	clk_set_rate(mpu_clk, policy->cpuinfo.max_freq * 1000);
+	/*clk_set_rate(mpu_clk, policy->cpuinfo.max_freq * 1000);*/
+	clk_set_rate(mpu_clk, 600000 * 1000); /*N900 hack: set default max to 600MHz */
 
 	policy->min = policy->cpuinfo.min_freq;
-	policy->max = policy->cpuinfo.max_freq;
+	/*policy->max = policy->cpuinfo.max_freq;*/
+	policy->max = 600000; /*N900 hack: set default max to 600MHz */
 	policy->cur = omap_getspeed(0);
 
 	policy->cpuinfo.transition_latency = 300 * 1000;
